<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MODISTools • MODISTools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="MODISTools">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MODISTools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/modistools-vignette.html">MODISTools</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/khufkens/MODISTools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>MODISTools</h1>
                        <h4 class="author">Koen Hufkens</h4>
            
            <h4 class="date">2018-06-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/khufkens/MODISTools/blob/master/vignettes/modistools-vignette.Rmd"><code>vignettes/modistools-vignette.Rmd</code></a></small>
      <div class="hidden name"><code>modistools-vignette.Rmd</code></div>

    </div>

    
    
<p>The MODISTools package has as goal to facilitate the interface between R and the MODIS Land Product Subset API at the Oak Ridge National Laboratory DAAC. This programmatic interface to the <a href="https://modis.ornl.gov/data/modis_webservice.html">‘MODIS Land Products Subsets’ web services</a> allows for easy downloads of ‘MODIS’ time series directly to your R workspace or your computer. Below an examples are provided on how to download a MODIS time series as well as list ancillary data.</p>
<div id="listing-products-bands-dates" class="section level3">
<h3 class="hasAnchor">
<a href="#listing-products-bands-dates" class="anchor"></a>Listing products / bands / dates</h3>
<p>In order to assess which products are available, which product bands are provided and which temporal range is covered one has to list these ancillary data. All these options can be queried using the mt_*() functions.</p>
<p>To list all available products use the mt_products() function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">products &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mt_products.html">mt_products</a></span>()
<span class="kw">head</span>(products)
<span class="co">#&gt;    product</span>
<span class="co">#&gt; 1  MCD12Q1</span>
<span class="co">#&gt; 2 MCD15A2H</span>
<span class="co">#&gt; 3 MCD15A3H</span>
<span class="co">#&gt; 4  MOD09A1</span>
<span class="co">#&gt; 5  MOD11A2</span>
<span class="co">#&gt; 6  MOD13Q1</span>
<span class="co">#&gt;                                                                               description</span>
<span class="co">#&gt; 1                   MODIS/Terra+Aqua Land Cover Type (LC) Yearly L3 Global 500 m SIN Grid</span>
<span class="co">#&gt; 2        MODIS/Terra+Aqua Leaf Area Index/FPAR (LAI/FPAR)  8-Day L4 Global 500 m SIN Grid</span>
<span class="co">#&gt; 3         MODIS/Terra+Aqua Leaf Area Index/FPAR (LAI/FPAR) 4-Day L4 Global 500 m SIN Grid</span>
<span class="co">#&gt; 4                    MODIS/Terra Surface Reflectance (SREF) 8-Day L3 Global 500m SIN Grid</span>
<span class="co">#&gt; 5 MODIS/Terra Land Surface Temperature and Emissivity (LST) 8-Day L3 Global 1 km SIN Grid</span>
<span class="co">#&gt; 6                MODIS/Terra Vegetation Indices (NDVI/EVI) 16-Day L3 Global 250m SIN Grid</span>
<span class="co">#&gt;   frequency resolution_meters</span>
<span class="co">#&gt; 1    Yearly               500</span>
<span class="co">#&gt; 2     8-Day               500</span>
<span class="co">#&gt; 3     4-Day               500</span>
<span class="co">#&gt; 4     8-Day               500</span>
<span class="co">#&gt; 5     8-Day              1000</span>
<span class="co">#&gt; 6    16-Day               250</span></code></pre></div>
<p>To list all available bands for a given product use the mt_bands() function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bands &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mt_bands.html">mt_bands</a></span>(<span class="dt">product =</span> <span class="st">"MOD11A2"</span>)
<span class="kw">head</span>(bands)
<span class="co">#&gt;            band                          description  units   valid_range</span>
<span class="co">#&gt; 1 Day_view_angl View zenith angle of day observation degree      0 to 130</span>
<span class="co">#&gt; 2       Emis_32                   Band 32 emissivity   &lt;NA&gt;      1 to 255</span>
<span class="co">#&gt; 3       Emis_31                   Band 31 emissivity   &lt;NA&gt;      1 to 255</span>
<span class="co">#&gt; 4      QC_Night     Nighttime LST Quality indicators   &lt;NA&gt;      0 to 255</span>
<span class="co">#&gt; 5 Day_view_time        Local time of day observation    hrs      0 to 240</span>
<span class="co">#&gt; 6   LST_Day_1km     Daytime Land Surface Temperature Kelvin 7500 to 65535</span>
<span class="co">#&gt;   fill_value</span>
<span class="co">#&gt; 1        255</span>
<span class="co">#&gt; 2          0</span>
<span class="co">#&gt; 3          0</span>
<span class="co">#&gt; 4       &lt;NA&gt;</span>
<span class="co">#&gt; 5        255</span>
<span class="co">#&gt; 6          0</span></code></pre></div>
<p>To list all available dates (temporal coverage) for a given product and location use the mt_dates() function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dates &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mt_dates.html">mt_dates</a></span>(<span class="dt">product =</span> <span class="st">"MOD11A2"</span>, <span class="dt">lat =</span> <span class="dv">42</span>, <span class="dt">lon =</span> <span class="op">-</span><span class="dv">110</span>)
<span class="kw">head</span>(dates)
<span class="co">#&gt;   modis_date calendar_date</span>
<span class="co">#&gt; 1   A2000049    2000-02-18</span>
<span class="co">#&gt; 2   A2000057    2000-02-26</span>
<span class="co">#&gt; 3   A2000065    2000-03-05</span>
<span class="co">#&gt; 4   A2000073    2000-03-13</span>
<span class="co">#&gt; 5   A2000081    2000-03-21</span>
<span class="co">#&gt; 6   A2000089    2000-03-29</span></code></pre></div>
</div>
<div id="downloading-modis-time-series" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-modis-time-series" class="anchor"></a>Downloading MODIS time series</h3>
<p>Once you decide on which data to download using the above functions you can use these parameters to download a time series using the mt_subset() function. The below query downloads MOD11A2 based daytime lands surface temperatures. The location is named ‘testsite’ and only covers the first six months of 2004. The output is saved to a variable called subset in the R workspace (as defined by the parameter internal = TRUE, when set to FALSE the data is written to file).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># download data</span>
subset &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mt_subset.html">mt_subset</a></span>(<span class="dt">product =</span> <span class="st">"MOD11A2"</span>,
                    <span class="dt">lat =</span> <span class="dv">40</span>,
                    <span class="dt">lon =</span> <span class="op">-</span><span class="dv">110</span>,
                    <span class="dt">band =</span> <span class="st">"LST_Day_1km"</span>,
                    <span class="dt">start =</span> <span class="st">"2004-01-01"</span>,
                    <span class="dt">end =</span> <span class="st">"2004-06-01"</span>,
                    <span class="dt">km_lr =</span> <span class="dv">0</span>,
                    <span class="dt">km_ab =</span> <span class="dv">0</span>,
                    <span class="dt">site_name =</span> <span class="st">"testsite"</span>,
                    <span class="dt">internal =</span> <span class="ot">TRUE</span>)
<span class="kw">head</span>(subset)
<span class="co">#&gt; $header</span>
<span class="co">#&gt; $header$xllcorner</span>
<span class="co">#&gt; [1] "-9370036.39"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$yllcorner</span>
<span class="co">#&gt; [1] "4447802.08"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$cellsize</span>
<span class="co">#&gt; [1] "926.625433055834"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$nrows</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$ncols</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$band</span>
<span class="co">#&gt; [1] "LST_Day_1km"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$units</span>
<span class="co">#&gt; [1] "Kelvin"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$scale</span>
<span class="co">#&gt; [1] "0.02"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$latitude</span>
<span class="co">#&gt; [1] 40</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$longitude</span>
<span class="co">#&gt; [1] -110</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$site</span>
<span class="co">#&gt; [1] "testsite"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$product</span>
<span class="co">#&gt; [1] "MOD11A2"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$start</span>
<span class="co">#&gt; [1] "2004-01-01"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$end</span>
<span class="co">#&gt; [1] "2004-06-01"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $header$complete</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $data</span>
<span class="co">#&gt;    modis_date calendar_date        band   tile     proc_date pixel  data</span>
<span class="co">#&gt; 1    A2004001    2004-01-01 LST_Day_1km h09v05 2015212185706     1 13098</span>
<span class="co">#&gt; 2    A2004009    2004-01-09 LST_Day_1km h09v05 2015212201022     1 13062</span>
<span class="co">#&gt; 3    A2004017    2004-01-17 LST_Day_1km h09v05 2015212213103     1 13297</span>
<span class="co">#&gt; 4    A2004025    2004-01-25 LST_Day_1km h09v05 2015213005429     1 13323</span>
<span class="co">#&gt; 5    A2004033    2004-02-02 LST_Day_1km h09v05 2015213090158     1 13315</span>
<span class="co">#&gt; 6    A2004041    2004-02-10 LST_Day_1km h09v05 2015213165253     1 13227</span>
<span class="co">#&gt; 7    A2004049    2004-02-18 LST_Day_1km h09v05 2015216182840     1 13739</span>
<span class="co">#&gt; 8    A2004057    2004-02-26 LST_Day_1km h09v05 2015217020635     1 13783</span>
<span class="co">#&gt; 9    A2004065    2004-03-05 LST_Day_1km h09v05 2015217091316     1 14748</span>
<span class="co">#&gt; 10   A2004073    2004-03-13 LST_Day_1km h09v05 2015217164857     1 15105</span>
<span class="co">#&gt; 11   A2004081    2004-03-21 LST_Day_1km h09v05 2015217230030     1 15290</span>
<span class="co">#&gt; 12   A2004089    2004-03-29 LST_Day_1km h09v05 2015218055617     1 15410</span>
<span class="co">#&gt; 13   A2004097    2004-04-06 LST_Day_1km h09v05 2015218215903     1 15330</span>
<span class="co">#&gt; 14   A2004105    2004-04-14 LST_Day_1km h09v05 2015219063436     1     0</span>
<span class="co">#&gt; 15   A2004113    2004-04-22 LST_Day_1km h09v05 2015219140857     1 15463</span>
<span class="co">#&gt; 16   A2004121    2004-04-30 LST_Day_1km h09v05 2015219231453     1 15649</span>
<span class="co">#&gt; 17   A2004129    2004-05-08 LST_Day_1km h09v05 2015220070159     1 15612</span>
<span class="co">#&gt; 18   A2004137    2004-05-16 LST_Day_1km h09v05 2015220154043     1 15418</span>
<span class="co">#&gt; 19   A2004145    2004-05-24 LST_Day_1km h09v05 2015220231431     1 15375</span>
<span class="co">#&gt; 20   A2004153    2004-06-01 LST_Day_1km h09v05 2015223193116     1 16052</span></code></pre></div>
<p>The output format is a nested list with the true data provided as a <em>tidy</em> data frame, as shown above. When witten to a csv, when the parameter ‘internal’ is set to FALSE, the same information is retained. Data can be read back into the same format with the included mt_read() function (see below).</p>
<p>Note that when a a region is defined using km_lr and km_ab multiple pixels might be returned. These are indexed using the ‘pixel’ column in the data frame containing the time series data. The remote sensing values are listed in the ‘data’ column. When no band is specified all bands of a given product are returned, be mindful of the fact that different bands might require different multipliers to represent their true values.</p>
<p>An example plot, below, of the downloaded daytime land surface temperature is given below. The data is first converted with the appropriate multiplier (see header info) and the fill values removed. The data shows the gradual increase in temperature from winter into summer (in the northern hemisphere).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create a plot of the data (i.e. daytime land surface temperature, LST)</span>
<span class="co"># the data has a multiplier of 0.02 in order to convert stored values</span>
<span class="co"># you can extract the multiplier (if applicable) from the data header</span>
date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(subset<span class="op">$</span>data<span class="op">$</span>calendar_date)
temperature &lt;-<span class="st"> </span>subset<span class="op">$</span>data<span class="op">$</span>data <span class="op">*</span><span class="st"> </span><span class="kw">as.double</span>(subset<span class="op">$</span>header<span class="op">$</span>scale)
temperature[temperature <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>

<span class="kw">plot</span>(date,
     temperature,
     <span class="dt">xlab =</span> <span class="st">"Date"</span>,
     <span class="dt">ylab =</span> <span class="kw">expression</span>(<span class="st">"LST temperature ("</span> <span class="op">*</span><span class="st"> </span>degree <span class="op">*</span><span class="st"> "K)"</span>))</code></pre></div>
<p><img src="modistools-vignette_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<p>When a large selection of locations is needed you might benefit from using the batch download function batch_subset(), which provides a wrapper around the mt_subset() function in order to speed up large download batches. This function has a similar syntax to mt_subset() but requires a data frame defining site names (site_name) and locations (lat / lon) (or a comma delimited file with the same structure) to specify a list of download locations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create data frame with a site_name, lat and lon column</span>
<span class="co"># holding the respective names of sites and their location</span>
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">"site_name"</span> =<span class="st"> </span><span class="kw">paste</span>(<span class="st">"test"</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
df<span class="op">$</span>lat &lt;-<span class="st"> </span><span class="dv">40</span>
df<span class="op">$</span>lon &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">110</span>

<span class="co"># an example batch download data frame</span>
<span class="kw">print</span>(df)
<span class="co">#&gt;   site_name lat  lon</span>
<span class="co">#&gt; 1    test 1  40 -110</span>
<span class="co">#&gt; 2    test 2  40 -110</span>

<span class="co"># test batch download</span>
subsets &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mt_batch_subset.html">mt_batch_subset</a></span>(<span class="dt">df =</span> df,
                     <span class="dt">product =</span> <span class="st">"MOD11A2"</span>,
                     <span class="dt">band =</span> <span class="st">"LST_Day_1km"</span>,
                     <span class="dt">internal =</span> <span class="ot">TRUE</span>,
                     <span class="dt">start =</span> <span class="st">"2004-01-01"</span>,
                     <span class="dt">end =</span> <span class="st">"2004-02-28"</span>,
                     <span class="dt">out_dir =</span> <span class="st">"~"</span>)

<span class="kw">print</span>(<span class="kw">str</span>(subsets))
<span class="co">#&gt; List of 2</span>
<span class="co">#&gt;  $ test 1:List of 2</span>
<span class="co">#&gt;   ..$ header:List of 15</span>
<span class="co">#&gt;   .. ..$ xllcorner: chr "-9370036.39"</span>
<span class="co">#&gt;   .. ..$ yllcorner: chr "4447802.08"</span>
<span class="co">#&gt;   .. ..$ cellsize : chr "926.625433055834"</span>
<span class="co">#&gt;   .. ..$ nrows    : int 1</span>
<span class="co">#&gt;   .. ..$ ncols    : int 1</span>
<span class="co">#&gt;   .. ..$ band     : chr "LST_Day_1km"</span>
<span class="co">#&gt;   .. ..$ units    : chr "Kelvin"</span>
<span class="co">#&gt;   .. ..$ scale    : chr "0.02"</span>
<span class="co">#&gt;   .. ..$ latitude : num 40</span>
<span class="co">#&gt;   .. ..$ longitude: num -110</span>
<span class="co">#&gt;   .. ..$ site     : chr "test 1"</span>
<span class="co">#&gt;   .. ..$ product  : chr "MOD11A2"</span>
<span class="co">#&gt;   .. ..$ start    : chr "2004-01-01"</span>
<span class="co">#&gt;   .. ..$ end      : chr "2004-02-28"</span>
<span class="co">#&gt;   .. ..$ complete : logi TRUE</span>
<span class="co">#&gt;   ..$ data  :'data.frame':   8 obs. of  7 variables:</span>
<span class="co">#&gt;   .. ..$ modis_date   : chr [1:8] "A2004001" "A2004009" "A2004017" "A2004025" ...</span>
<span class="co">#&gt;   .. ..$ calendar_date: chr [1:8] "2004-01-01" "2004-01-09" "2004-01-17" "2004-01-25" ...</span>
<span class="co">#&gt;   .. ..$ band         : chr [1:8] "LST_Day_1km" "LST_Day_1km" "LST_Day_1km" "LST_Day_1km" ...</span>
<span class="co">#&gt;   .. ..$ tile         : chr [1:8] "h09v05" "h09v05" "h09v05" "h09v05" ...</span>
<span class="co">#&gt;   .. ..$ proc_date    : chr [1:8] "2015212185706" "2015212201022" "2015212213103" "2015213005429" ...</span>
<span class="co">#&gt;   .. ..$ pixel        : chr [1:8] "1" "1" "1" "1" ...</span>
<span class="co">#&gt;   .. ..$ data         : int [1:8] 13098 13062 13297 13323 13315 13227 13739 13783</span>
<span class="co">#&gt;   ..- attr(*, "class")= chr "MODISTools"</span>
<span class="co">#&gt;  $ test 2:List of 2</span>
<span class="co">#&gt;   ..$ header:List of 15</span>
<span class="co">#&gt;   .. ..$ xllcorner: chr "-9370036.39"</span>
<span class="co">#&gt;   .. ..$ yllcorner: chr "4447802.08"</span>
<span class="co">#&gt;   .. ..$ cellsize : chr "926.625433055834"</span>
<span class="co">#&gt;   .. ..$ nrows    : int 1</span>
<span class="co">#&gt;   .. ..$ ncols    : int 1</span>
<span class="co">#&gt;   .. ..$ band     : chr "LST_Day_1km"</span>
<span class="co">#&gt;   .. ..$ units    : chr "Kelvin"</span>
<span class="co">#&gt;   .. ..$ scale    : chr "0.02"</span>
<span class="co">#&gt;   .. ..$ latitude : num 40</span>
<span class="co">#&gt;   .. ..$ longitude: num -110</span>
<span class="co">#&gt;   .. ..$ site     : chr "test 2"</span>
<span class="co">#&gt;   .. ..$ product  : chr "MOD11A2"</span>
<span class="co">#&gt;   .. ..$ start    : chr "2004-01-01"</span>
<span class="co">#&gt;   .. ..$ end      : chr "2004-02-28"</span>
<span class="co">#&gt;   .. ..$ complete : logi TRUE</span>
<span class="co">#&gt;   ..$ data  :'data.frame':   8 obs. of  7 variables:</span>
<span class="co">#&gt;   .. ..$ modis_date   : chr [1:8] "A2004001" "A2004009" "A2004017" "A2004025" ...</span>
<span class="co">#&gt;   .. ..$ calendar_date: chr [1:8] "2004-01-01" "2004-01-09" "2004-01-17" "2004-01-25" ...</span>
<span class="co">#&gt;   .. ..$ band         : chr [1:8] "LST_Day_1km" "LST_Day_1km" "LST_Day_1km" "LST_Day_1km" ...</span>
<span class="co">#&gt;   .. ..$ tile         : chr [1:8] "h09v05" "h09v05" "h09v05" "h09v05" ...</span>
<span class="co">#&gt;   .. ..$ proc_date    : chr [1:8] "2015212185706" "2015212201022" "2015212213103" "2015213005429" ...</span>
<span class="co">#&gt;   .. ..$ pixel        : chr [1:8] "1" "1" "1" "1" ...</span>
<span class="co">#&gt;   .. ..$ data         : int [1:8] 13098 13062 13297 13323 13315 13227 13739 13783</span>
<span class="co">#&gt;   ..- attr(*, "class")= chr "MODISTools"</span>
<span class="co">#&gt; NULL</span></code></pre></div>
</div>
<div id="reading-and-writing-data-from-to-file" class="section level3">
<h3 class="hasAnchor">
<a href="#reading-and-writing-data-from-to-file" class="anchor"></a>Reading and writing data from / to file</h3>
<p>In both download functions data can be written to a csv file in a particular directory using the ‘internal’ and ‘out_dir’ function options. The mt_read() function allows you to read in these csv files easily and into the same data structure as used when downloading directy into your R workspace.</p>
<pre><code>[site_name]_[product]_[start]_[end].csv</code></pre>
<p>The data can be read back into the original nested structed using mt_read().</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># write the above file to disk</span>
<span class="kw"><a href="../reference/mt_write.html">mt_write</a></span>(<span class="dt">df =</span> subset,
             <span class="dt">out_dir =</span> <span class="kw">tempdir</span>())

<span class="co"># read the data back in</span>
subset_disk &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mt_read.html">mt_read</a></span>(<span class="kw">paste0</span>(<span class="kw">tempdir</span>(),
                  <span class="st">"/testsite_MOD11A2_2004-01-01_2004-06-01.csv"</span>))

<span class="co"># compare original to read from disk</span>
<span class="kw">identical</span>(subset, subset_disk)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Hufkens Koen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
